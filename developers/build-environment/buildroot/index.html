<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://yio-remote.github.io/documentation/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://yio-remote.github.io/documentation/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://yio-remote.github.io/documentation/main.41f4e12d8577edbe348004973f8e5cd53ce413089a172e94c7d26aaa149801a054e147cca2aee89b3d327351ac23a4cf9bd74a3d19235ac438c7a63314cd7c9e.css integrity="sha512-QfThLYV37b40gASXP45c1TzkEwiaFy6Ux9JqqhSYAaBU4UfMoq7omz0yc1GsI6TPm9dKPRkjWsQ4x6YzFM18ng==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Buildroot - YIO</title><meta name=description content="The YIO Remote uses a custom Linux OS for the Raspberry Pi Zero board built with Buildroot"><link rel=canonical href=https://yio-remote.github.io/documentation/developers/build-environment/buildroot/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/developers/build-environment/buildroot/yio-logo.png"><meta name=twitter:title content="Buildroot"><meta name=twitter:description content="The YIO Remote uses a custom Linux OS for the Raspberry Pi Zero board built with Buildroot"><meta name=twitter:site content="@yioremote"><meta name=twitter:creator content="@yioremote"><meta property="og:title" content="Buildroot"><meta property="og:description" content="The YIO Remote uses a custom Linux OS for the Raspberry Pi Zero board built with Buildroot"><meta property="og:type" content="article"><meta property="og:url" content="/developers/build-environment/buildroot/"><meta property="og:image" content="/developers/build-environment/buildroot/yio-logo.png"><meta property="og:site_name" content="YIO"><meta property="article:publisher" content="https://www.facebook.com/YIOremote"><meta property="article:author" content="https://www.facebook.com/YIOremote"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/yio-remote.github.io\/documentation\/"},{"@type":"ListItem","position":3,"name":"Developers","item":"https:\/\/yio-remote.github.io\/documentation\/\/developers\/"},{"@type":"ListItem","position":4,"name":"Build Environment","item":"https:\/\/yio-remote.github.io\/documentation\/\/developers\/build-environment\/"},{"@type":"ListItem","position":5,"name":"Buildroot","item":"https:\/\/yio-remote.github.io\/documentation\/\/developers\/build-environment\/buildroot\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://yio-remote.github.io/documentation/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://yio-remote.github.io/documentation/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://yio-remote.github.io/documentation/favicon-16x16.png><link rel=manifest href=https://yio-remote.github.io/documentation/site.webmanifest></head><body class="developers single"><script>(localStorage.getItem('theme')==='dark'||localStorage.getItem('theme')===null)&&document.body.classList.add('dark')</script><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://yio-remote.github.io/documentation/>YIO</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://github.com/YIO-remote><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li><li class=nav-item><a class=nav-link href=http://chat.yio-remote.com/><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentcolor"><path d="M20.222.0c1.406.0 2.54 1.137 2.607 2.475V24l-2.677-2.273-1.47-1.338-1.604-1.398.67 2.205H3.71c-1.402.0-2.54-1.065-2.54-2.476V2.48C1.17 1.142 2.31.003 3.715.003h16.5L20.222.0zm-6.118 5.683h-.03l-.202.2c2.073.6 3.076 1.537 3.076 1.537-1.336-.668-2.54-1.002-3.744-1.137-.87-.135-1.74-.064-2.475.0h-.2c-.47.0-1.47.2-2.81.735-.467.203-.735.336-.735.336s1.002-1.002 3.21-1.537l-.135-.135s-1.672-.064-3.477 1.27c0 0-1.805 3.144-1.805 7.02.0.0 1 1.74 3.743 1.806.0.0.4-.533.805-1.002-1.54-.468-2.14-1.404-2.14-1.404s.134.066.335.2h.06c.03.0.044.015.06.03v.006c.016.016.03.03.06.03.33.136.66.27.93.4.466.202 1.065.403 1.8.536.93.135 1.996.2 3.21.0.6-.135 1.2-.267 1.8-.535.39-.2.87-.4 1.397-.737.0.0-.6.936-2.205 1.404.33.466.795 1 .795 1 2.744-.06 3.81-1.8 3.87-1.726.0-3.87-1.815-7.02-1.815-7.02-1.635-1.214-3.165-1.26-3.435-1.26l.056-.02zm.168 4.413c.703.0 1.27.6 1.27 1.335.0.74-.57 1.34-1.27 1.34s-1.27-.6-1.27-1.334c.002-.74.573-1.338 1.27-1.338zm-4.543.0c.7.0 1.266.6 1.266 1.335.0.74-.57 1.34-1.27 1.34s-1.27-.6-1.27-1.334c0-.74.57-1.338 1.27-1.338z"/></svg><span class="ms-2 visually-hidden">Discord</span></a></li><li class=nav-item><a class=nav-link href=https://community.yio-remote.com/><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg><span class="ms-2 visually-hidden">Forum</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class=nav-item><a class=nav-link href=https://yio-remote.github.io/documentation/>Docs</a></li><li class=nav-item><a class=nav-link href=https://yio-remote.github.io/documentation/developers/api>Developers</a></li><li class=nav-item><a class=nav-link href=https://yio-remote.github.io/documentation/community>Community</a></li><li class=nav-item><a class=nav-link href=https://yio-remote.github.io/documentation/contribute>Contribute</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Home</h3><ul class=list-unstyled><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/ssh/>SSH / SCP</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/architecture/>Architecture</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/contribute/coding-guidelines/>Coding guidelines</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/configuration-file/>Configuration file</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/integrations/>Creating integrations</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/entity-types/>Entity types</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/logging/>Logging</a></li></ul><h3>Build Environment</h3><ul class=list-unstyled><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/build-environment/setup-ide/>Setup QT IDE</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/build-environment/setup-virtual-machine/>Setup Ubuntu Developer VM</a></li><li><a class="docs-link active" href=https://yio-remote.github.io/documentation/developers/build-environment/buildroot/>Buildroot</a></li></ul><h3>API</h3><ul class=list-unstyled><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/api/>API</a></li><li><a class=docs-link href=https://yio-remote.github.io/documentation/developers/websocket-api/>Websocket API</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#build-environment-variables>Build Environment Variables</a></li><li><a href=#initial-checkout-and-toolchain-build>Initial Checkout and Toolchain Build</a></li><li><a href=#build-sd-card-image>Build SD Card Image</a></li><li><a href=#buildroot-commands>Buildroot Commands</a></li><li><a href=#write-sd-card-image>Write SD Card Image</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><h1>Buildroot</h1><p class=lead></p><p>The YIO Remote uses a custom Linux OS for the Raspberry Pi Zero board built with <a href=https://www.buildroot.org/>Buildroot</a>. See <a href=https://github.com/YIO-Remote/remote-os/>remote-os repository</a> for details.</p><p>At the moment Buildroot is only working on Linux. Our attempts to get it running on macOS have been unsuccessful and on Windows we don&rsquo;t have any expertise. Please contact us if you have a working solution.</p><p>The easiest way to use Buildroot on any system is with the provided Docker YIO build image. See <a href=https://github.com/YIO-Remote/docker-build>Docker Build Image for YIO-Remote</a> for more information.</p><p>This documentation is about installing and using Buildroot on Linux.</p><h2 id=build-environment-variables>Build Environment Variables<a href=#build-environment-variables class=anchor aria-hidden=true>#</a></h2><p>The following optional environment variables control where build artifacts are stored:</p><table><thead><tr><th>Variable</th><th>Description</th></tr></thead><tbody><tr><td><code>BR2_DL_DIR</code></td><td>Buildroot download directory. Default: <code>$HOME/buildroot/dl</code></td></tr><tr><td><code>BR2_CCACHE_DIR</code></td><td>Buildroot ccache directory. Default: <code>$HOME/buildroot/ccache</code></td></tr></tbody></table><p>Variables prefixed with <code>BR2_</code> are official Buildroot variables. See <a href=https://buildroot.org/downloads/manual/manual.html#env-vars>environment variables in the Buildroot user manual</a>.</p><h2 id=initial-checkout-and-toolchain-build>Initial Checkout and Toolchain Build<a href=#initial-checkout-and-toolchain-build class=anchor aria-hidden=true>#</a></h2><p>The <a href=https://github.com/YIO-Remote/remote-os>YIO remote-os project</a> builds the complete SD card image for the RPi Zero device in the remote. Furthermore, an external toolchain can be built with Buildroot for cross compilation in Qt Creator and the command line. See &ldquo;External toolchain backend&rdquo; in the <a href=https://buildroot.org/downloads/manual/manual.html#_cross_compilation_toolchain>Buildroot documentation</a> for more information.</p><p>Notes:</p><ul><li>The most up-to-date version is in the master branch.</li><li>Releases are created from the master branch through a version tag.</li><li>All other branches in remote-os are either upcoming pull requests from the core development team, or the &ldquo;next big feature&rdquo; we are working on.<br>Consider them experimental: they might not work and removed or rebased at any time!</li><li>The <code>Makefile</code> in the root directory is a build helper for commonly used Buildroot make commands.</li></ul><p>Checkout project (if not yet done) and build external cross compiler toolchain:</p><pre><code># define root directory for project checkout
SRC_DIR=~/projects/yio

mkdir -p $SRC_DIR
cd $SRC_DIR
git clone https://github.com/YIO-Remote/remote-os.git

cd $SRC_DIR/remote-os

# build external toolchain
make remote-sdk
</code></pre><p>This will take at least an hour or much longer on a slower system.<br>A successful build will end with the following messages:</p><pre><code>&gt;&gt;&gt;   Rendering the SDK relocatable
PER_PACKAGE_DIR=~/projects/yio/remote-os/buildroot/output/per-package ~/projects/yio/remote-os/buildroot/support/scripts/fix-rpath host
PER_PACKAGE_DIR=~/projects/yio/remote-os/buildroot/output/per-package ~/projects/yio/remote-os/buildroot/support/scripts/fix-rpath staging
/usr/bin/install -m 755 ~/projects/yio/remote-os/buildroot/support/misc/relocate-sdk.sh ~/projects/yio/remote-os/buildroot/output/host/relocate-sdk.sh
mkdir -p ~/projects/yio/remote-os/buildroot/output/host/share/buildroot
echo ~/projects/yio/remote-os/buildroot/output/host &gt; ~/projects/yio/remote-os/buildroot/output/host/share/buildroot/sdk-location
&gt;&gt;&gt;   Generating SDK tarball
~/projects/yio/remote-os/buildroot/output/host/bin/tar czf &quot;~/projects/yio/remote-os/buildroot/output/images/arm-buildroot-linux-gnueabihf_sdk-buildroot.tar.gz&quot; \
        --owner=0 --group=0 --numeric-owner \
        --transform='s#^home/mzehnder/projects/yio/remote-os/buildroot/output/host#arm-buildroot-linux-gnueabihf_sdk-buildroot#' \
        -C / home/mzehnder/projects/yio/remote-os/buildroot/output/host
make[1]: Leaving directory '~/projects/yio/remote-os/buildroot'
</code></pre><p>The SDK will be written to: <code>./buildroot/output/images/arm-buildroot-linux-gnueabihf_sdk-buildroot.tar.gz</code></p><h2 id=build-sd-card-image>Build SD Card Image<a href=#build-sd-card-image class=anchor aria-hidden=true>#</a></h2><pre><code>cd $SRC_DIR/remote-os
make remote
</code></pre><p>A successful build will end with the following messages:</p><pre><code>Cleaning up partition image files ...
make[1]: Leaving directory '/home/yio/projects/yio/remote-os/buildroot'
cp -f /home/yio/projects/yio/remote-os/buildroot/output/images/yio-* /home/yio/projects/yio/remote-os/release/
# Do not clean when building for one target
Finished building board: remote
</code></pre><p>Hint: redirect the <code>make</code> output log into a logfile to easy find an error during building or when using <code>screen</code> without scrollback capability:</p><pre><code>make 2&gt;&amp;1 | tee remote-os_build_$(date +&quot;%Y%m%d_%H%M%S&quot;).log
</code></pre><p>The final SD card image will be written to:</p><ul><li>Buildroot output: <code>./buildroot/output/images/yio-remote-sdcard-$VERSION.img</code><br>Attention: <code>make clean</code> will remove the Buildroot output folder.</li><li>Release folder: <code>./release/yio-remote-sdcard-$VERSION.img</code></li></ul><p>The <code>$VERSION</code> information consists of: <code>VersionTag[-CommitCountSinceVersionTag-LastGitHash[-dirty]]</code><br>Examples:</p><ul><li><code>yio-remote-sdcard-v1.1.0.img</code>:<ul><li>Image relates to version <code>v1.1.0</code>, which is <code>git checkout v1.1.0</code></li></ul></li><li><code>yio-remote-sdcard-v1.1.0-19-g07e61834.img</code>:<ul><li>19 commits after last release v1.1.0</li><li>last git commit is g07e61834</li></ul></li><li><code>yio-remote-sdcard-v1.1.0-20-gdbca8b7c-dirty.img</code>:<ul><li>20 commits after last release v1.1.0</li><li>last git commit is gdbca8b7c</li><li>dirty: uncommitted changes in the file system during build</li></ul></li></ul><h2 id=buildroot-commands>Buildroot Commands<a href=#buildroot-commands class=anchor aria-hidden=true>#</a></h2><p>The main makefile wraps the most important Buildroot make commands and takes care of configuration handling and output directories:</p><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>make remote</code></td><td>Update configuration from the board&rsquo;s defconfig and start build.</td></tr><tr><td><code>make clean</code></td><td>Deletes all of the generated files, including build files and the generated toolchain!</td></tr><tr><td><code>make remote-menuconfig</code></td><td>Shows the configuration menu with the board&rsquo;s defconfig. All changes will be written back to the project configuration.</td></tr><tr><td><code>make remote-config</code></td><td>Update configuration from the board&rsquo;s defconfig.</td></tr><tr><td><code>make help</code></td><td>Shows all options.</td></tr></tbody></table><p>The project configuration in <code>buildroot-extenal/configs/remote_defconfig</code> is automatically loaded and saved back with <code>make remote-menuconfig</code>. Manual <code>make savedefconfig BR2_DEFCONFIG=...</code> and <code>make defconfig BR2_DEFCONFIG=...</code> commands are no longer required and automatically taken care of!</p><p>Specific Buildroot make commands can still be run in the ./buildroot subdirectory after applying the board configuration.<br>For example configuring the Linux kernel with <code>make linux-menuconfig</code>.<br>Attention: all configuration commands run within the ./buildroot directory will not be persisted to the configuration files stored under ./buildroot-external. This must be done manually!</p><h2 id=write-sd-card-image>Write SD Card Image<a href=#write-sd-card-image class=anchor aria-hidden=true>#</a></h2><p>Use <a href=https://www.balena.io/etcher/>balenaEtcher</a> - available for Linux, macOS and Windows - or your favorite tool.</p><p class=edit-page><a href=https://github.com/YIO-Remote/documentation/blob/master/content/developers/build-environment/buildroot/index.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://yio-remote.github.io/documentation/developers/websocket-api/><div class="card my-1"><div class="card-body py-2">&larr; Websocket API</div></div></a><a class=ms-auto href=https://yio-remote.github.io/documentation/developers/contribute/coding-guidelines/><div class="card my-1"><div class="card-body py-2">Coding guidelines &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Documentation by the YIO community - Website powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a> theme</li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://yio-remote.github.io/documentation/js/highlight.min.e9108a0b3c03958002f9650a02a3c3dcc2c69459b908c8440f7d2ad360aa0f216c0023ba6192f82a8bdbd996bd314e1e0cff114a8f54a0166630560d0be8ede7.js integrity="sha512-6RCKCzwDlYAC+WUKAqPD3MLGlFm5CMhED30q02CqDyFsACO6YZL4Kovb2Za9MU4eDP8RSo9UoBZmMFYNC+jt5w==" crossorigin=anonymous defer></script><script src=https://yio-remote.github.io/documentation/main.min.7ab523108435955765bcb88a0ee704f412ba01646b5478e84f3b9feb24f0ce750a14c3f7bd9a62408fe21e41996d361a9eb29f77e85dfe77b7e17f7623bd3a97.js integrity="sha512-erUjEIQ1lVdlvLiKDucE9BK6AWRrVHjoTzuf6yTwznUKFMP3vZpiQI/iHkGZbTYanrKfd+hd/ne34X92I706lw==" crossorigin=anonymous defer></script><script src=https://yio-remote.github.io/documentation/index.min.e14891b6d51048ed19820a09e27eadf203203e236ff4c63b52693320a4f3d78c25e581955ace855112d9080fbbb5424be52abc1702187ef3badc1c447f9545a9.js integrity="sha512-4UiRttUQSO0ZggoJ4n6t8gMgPiNv9MY7UmkzIKTz14wl5YGVWs6FURLZCA+7tUJL5Sq8FwIYfvO63BxEf5VFqQ==" crossorigin=anonymous defer></script></body></html>